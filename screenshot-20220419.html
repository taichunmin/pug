<!doctype html><html><head><meta charset="UTF-8"><meta content="IE=edge" http-equiv="X-UA-Compatible"><meta content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,viewport-fit=cover,user-scalable=no" name="viewport"><title>部落格用截圖合併工具</title><script src="https://www.googletagmanager.com/gtag/js?id=UA-39556213-3" async></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-39556213-3");</script><link href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet"><style>[v-cloak]{display:none}.h1,.h2,.h3,.h4,.h5,.h6,body,h1,h2,h3,h4,h5,h6{font-family:"Noto Sans TC",sans-serif}#merged{background-color:#6b6b6b;height:600px;width:1200px}#merged .screenshot{background:no-repeat center/contain}</style></head><body><div class="container-fluid my-3 text-monospace" id="app" v-cloak><h1 class="text-center">部落格用截圖合併工具</h1><div class="d-flex my-2 px-1 py-2" id="merged"><div class="mx-1 screenshot" :style="{'background-image': `url(${img.url})`, 'flex-grow': img.flex}" v-for="img of images"></div></div><div class="from-group"><div class="input-group mt-2"><div class="input-group-prepend"><button @click="btnMergeImages" class="btn btn-primary" type="button">點此<br>合併<br>截圖</button></div><textarea class="form-control form-control-sm" rows="5" style="font-size:.75rem" v-model="h.images"></textarea></div><small class="text-muted">可以貼上多個圖片網址，以換行分開。</small></div></div><script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/json5@2/dist/index.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/lodash@4/lodash.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/papaparse@5/papaparse.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/popper.js@1/dist/umd/popper.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-core.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/prismjs@1/plugins/autoloader/prism-autoloader.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/qs@6/dist/qs.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/sweetalert2@11" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" crossorigin="anonymous"></script><script>window.vm=new Vue({el:"#app",data:{h:{images:"",bg:""},images:[]},async mounted(){try{var t=JSON5.parse(localStorage.getItem(location.pathname));t&&this.$set(this,"h",{...this.h,...t})}catch(t){}this.$watch("h",()=>{localStorage.setItem(location.pathname,JSON5.stringify(this.h))},{deep:!0})},methods:{async btnMergeImages(){var t=_.compact(this.h.images.split(/\r?\n/)),t=_.compact(await Promise.all(_.map(t,async t=>{try{var e=await this.getImageUrlSize(t);return{url:t,...e,flex:1200*e.width/e.height}}catch(t){return console.error(t),null}})));this.$set(this,"images",t)},getImageUrlSize:(()=>{const i=new Map;return async r=>{if(r)return i.has(r)||await new Promise((t,e)=>{const a=new Image;a.onload=function(){i.set(r,{height:this.height,width:this.width}),t()},a.onerror=()=>e(new Error("無法取得圖片大小: "+r)),a.src=r}),i.get(r);throw new Error("url is required")}})()}});</script></body></html>