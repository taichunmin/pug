<!doctype html><html><head><meta charset="UTF-8"><meta content="IE=edge" http-equiv="X-UA-Compatible"><meta content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,viewport-fit=cover,user-scalable=no" name="viewport"><title>Imgur 上傳結果</title><script src="https://www.googletagmanager.com/gtag/js?id=UA-39556213-3" async></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-39556213-3");</script><link href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet"><meta content="2133031763635285" property="fb:app_id"><meta content="Imgur 上傳結果" property="og:description"><meta content="zh_TW" property="og:locale"><meta content="筆記國度" property="og:site_name"><meta content="Imgur 上傳結果" property="og:title"><meta content="website" property="og:type"><meta content="https://taichunmin.idv.tw/pug/webble-chameleon-tiny.html" property="og:url"><style>[v-cloak]{display:none}.h1,.h2,.h3,.h4,.h5,.h6,body,h1,h2,h3,h4,h5,h6{font-family:"Noto Sans TC",sans-serif}.input-group-sm .form-control{letter-spacing:-1px}.input-group-sm .input-group-text{letter-spacing:-1px;min-width:5rem}.card video{width:100%;height:auto}</style></head><body><div class="container-fluid my-3 text-monospace" id="app" style="max-width:760px" v-cloak><div class="mb-3 card" v-if="imgur"><div class="card-body"><h5 class="card-title">Imgur 上傳結果</h5><div class="input-group input-group-sm mt-2" @click="btnCopy(val)" v-for="val, name in copyables"><div class="input-group-prepend"><span class="input-group-text justify-content-center">{{ name }}</span></div><input :value="val" class="form-control text-right" readonly></div></div><video :src="imgur.link" muted v-if="isVideo"></video><img :src="imgur.link" class="card-img-bottom" v-else></div><button @click="btnDel" class="mb-3 btn btn-danger">刪除{{ ['圖片', '影片'][+isVideo] }}</button></div><script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/json5@2/dist/index.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/lodash@4/lodash.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/papaparse@5/papaparse.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/popper.js@1/dist/umd/popper.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-core.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/prismjs@1/plugins/autoloader/prism-autoloader.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/qs@6/dist/qs.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/sweetalert2@11" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/js-base64@2/base64.min.js" crossorigin="anonymous"></script><script>window.parseJsonOrDefault=(e,t)=>{try{return _.isString(e)||_.isBuffer(e)?JSON5.parse(e):t}catch(e){return t}},window.errToPlainObj=(()=>{const t=["address","code","data","dest","errno","info","message","name","path","port","reason","response.data","response.headers","response.status","stack","status","statusCode","statusMessage","syscall"];return e=>_.pick(e,t)})(),window.encodeBase64url=e=>Base64.encode(e).replace(/[+/=]/g,e=>_.get({"+":"-","/":"_","=":""},e)),window.decodeBase64url=e=>Base64.decode(e.replace(/[-_]/g,e=>_.get({"-":"+",_:"/"},e))),window.vm=new Vue({el:"#app",data:{imgur:null},async mounted(){await this.init()},computed:{isVideo(){var e=this.imgur;return/^video\//.test(_.get(e,"type"))},copyables(){var e=this.imgur;return e?this.isVideo?{"影片網址":e.link,HTML:`<video src="${e.link}"></video>`,"上傳時間":dayjs.unix(e.datetime).format("YYYY-MM-DD HH:mm:ss ZZ")}:{"圖片網址":e.link,Markdown:`![](${e.link})`,HTML:`<img src="${e.link}">`,"圖片比例":e.width+":"+e.height,"圖片大小":this.formatSize(e.size),"上傳時間":dayjs.unix(e.datetime).format("YYYY-MM-DD HH:mm:ss ZZ")}:{}}},methods:{async init(){try{var e=this.paramBase64url("imgur");e&&this.$set(this,"imgur",window.parseJsonOrDefault(e))}catch(e){console.log(window.errToPlainObj(e))}},async btnCopy(e,t=null){t=t||document.body;const a=document.createElement("textarea");a.value=e,t.appendChild(a),a.select(),a.setSelectionRange(0,1e6),document.execCommand("copy"),t.removeChild(a),await Swal.fire({icon:"success",title:"已複製到剪貼簿"})},async btnDel(){try{if(!(await Swal.fire({cancelButtonColor:"#3085d6",cancelButtonText:"取消",confirmButtonColor:"#d33",confirmButtonText:"刪除",focusCancel:!0,icon:"warning",showCancelButton:!0,text:"是否刪除圖片？"})).value)return;var e=this.imgur;if(!e)return{};await axios.delete("https://api.imgur.com/3/image/"+e.deletehash,{headers:{Authorization:"Client-ID "+e.clientId}}),await Swal.fire({icon:"success",title:"刪除成功"})}catch(e){e.message=_.get(e,"response.data.data.error",e.message),e.status=_.get(e,"response.data.status",e.status),console.error(e),await Swal.fire({icon:"error",title:"刪除失敗",text:e.message})}},paramBase64url(e,t){e=new URL(location).searchParams.get(e);return _.isNil(e)?t:window.decodeBase64url(e)},formatSize(t){var a=["Bytes","KB","MB","GB","TB"];for(let e=0;e<a.length;e++){if(t<1024)return _.round(t,2)+" "+a[e];t/=1024}return"錯誤"}}});</script></body></html>